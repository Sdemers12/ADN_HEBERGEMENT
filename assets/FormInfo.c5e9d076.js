import{_ as p,j as h,m as f,o as a,c as u,a as e,i,v as n,h as v,l as m,n as c,p as y,g as _,e as b}from"./index.fa4e2139.js";const g={name:"FormInfo",data(){return{show:!1}},computed:{...h(c,["user"])},methods:{...f(c,["getUser","updateUser","deleteUser"]),async formEditUser(){await this.updateUser({pseudo:this.user.pseudo,email:this.user.email,city:this.user.city,country:this.user.country})},toggleModal(){this.show=!this.show},closeModal(){this.show=!1}}},l=s=>(y("data-v-c2a59076"),s=s(),_(),s),w={class:"flex flex-col w-full md:w-fit mb-6"},x={class:"mb-8"},k=l(()=>e("legend",{class:"mb-6"},"Mes informations g\xE9n\xE9rales",-1)),M={class:"flex flex-col md:flex-row"},U={class:"mr-0 mb-6 md:mr-7"},C=l(()=>e("label",{for:"pseudo",class:"mb-2 block text-sm font-medium"},"Pseudonyme",-1)),S={class:"mb-6"},V=l(()=>e("label",{for:"email",class:"mb-2 block text-sm font-medium"},"Adresse courriel",-1)),z={class:"flex flex-col md:flex-row"},A={class:"mr-0 mb-6 md:mr-7"},I=l(()=>e("label",{for:"city",class:"mb-2 block text-sm font-medium"},"Ville",-1)),L={class:"mb-6"},B=l(()=>e("label",{for:"country",class:"mb-2 block text-sm font-medium"},"Pays",-1)),E=l(()=>e("button",{type:"submit",class:"btn-primary py-2.5 px-5 w-fit"},[b(" Sauvegarder les modifications "),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"ml-2 h-5 w-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})])],-1)),j=l(()=>e("hr",{class:"my-12"},null,-1)),F=l(()=>e("h3",{class:"mb-4"},"Supprimer mon compte",-1)),N=l(()=>e("p",{class:"mb-8"},"Une fois que vous avez supprim\xE9 votre compte, il n'y a plus de retour en arri\xE8re. Soyez certain.",-1)),H=["show"],P={key:0,class:"h-modal fixed z-50 flex items-center justify-center overflow-y-auto overflow-x-hidden p-4 md:inset-0",id:"popup-modal"},T={class:"relative h-auto w-auto z-50"},q={class:"relative rounded-lg bg-white shadow"},D=l(()=>e("svg",{"aria-hidden":"true",class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)),G=l(()=>e("span",{class:"sr-only"},"Fermer la fen\xEAtre",-1)),J=[D,G],K={class:"p-6 text-center"},O=l(()=>e("svg",{"aria-hidden":"true",class:"mx-auto mb-4 h-14 w-14 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),Q=l(()=>e("h3",{class:"mb-5 text-lg font-normal text-gray-500"},"\xCAtes-vous s\xFBr de vouloir supprimer votre compte ?",-1)),R={key:0,class:"absolute inset-0 z-40 bg-black opacity-25"};function W(s,t,X,Y,d,r){return a(),u("div",w,[e("form",{onSubmit:t[4]||(t[4]=v((...o)=>r.formEditUser&&r.formEditUser(...o),["prevent"]))},[e("fieldset",x,[k,e("div",M,[e("div",U,[C,i(e("input",{type:"text",id:"pseudo",name:"pseudo","onUpdate:modelValue":t[0]||(t[0]=o=>s.user.pseudo=o),class:"textfield",placeholder:""},null,512),[[n,s.user.pseudo,void 0,{trim:!0}]])]),e("div",S,[V,i(e("input",{type:"text",id:"email",name:"email","onUpdate:modelValue":t[1]||(t[1]=o=>s.user.email=o),class:"textfield",placeholder:""},null,512),[[n,s.user.email,void 0,{trim:!0}]])])]),e("div",z,[e("div",A,[I,i(e("input",{type:"text",id:"city",name:"city","onUpdate:modelValue":t[2]||(t[2]=o=>s.user.city=o),class:"textfield",placeholder:""},null,512),[[n,s.user.city,void 0,{trim:!0}]])]),e("div",L,[B,i(e("input",{type:"text",id:"country",name:"country","onUpdate:modelValue":t[3]||(t[3]=o=>s.user.country=o),class:"textfield",placeholder:""},null,512),[[n,s.user.country,void 0,{trim:!0}]])])])]),E],32),j,F,N,e("button",{class:"btn-delete py-2.5 px-5 w-fit",show:d.show,onClick:t[5]||(t[5]=o=>r.toggleModal()),"data-modal-toggle":"popup-modal"},"Effacer mon compte",8,H),d.show?(a(),u("div",P,[e("div",T,[e("div",q,[e("button",{type:"button",class:"absolute top-3 right-2.5 ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900",onClick:t[6]||(t[6]=o=>r.closeModal())},J),e("div",K,[O,Q,e("button",{type:"button",class:"mr-2 inline-flex items-center rounded-lg bg-red-600 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300",onClick:t[7]||(t[7]=o=>(s.deleteUser(s.user._id),r.closeModal()))},"Confirmer"),e("button",{type:"button",class:"rounded-lg border border-gray-200 bg-white px-5 py-2.5 text-sm font-medium text-gray-500 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:ring-4",onClick:t[8]||(t[8]=o=>r.closeModal())},"Annuler")])])]),d.show?(a(),u("div",R)):m("",!0)])):m("",!0)])}const $=p(g,[["render",W],["__scopeId","data-v-c2a59076"]]);export{$ as default};
